<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>@cxl/ui React Demo</title>
    <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
	<script src="ui-docs-react.js"></script>
  </head>
  <body>
    <div id="root"></div>

    <script type="text/babel">
	
	class Main extends React.Component
	{
		render()
		{
			return (
<cxl-router-app>
	<cxl-c pad16>
		<cxl-t h6>@cxl/ui-react
		<cxl-t inline subtitle2>${cxl.version}</cxl-t>
		</cxl-t>
	</cxl-c>
	<cxl-item icon="book" href="#home">Developer Guide</cxl-item>
	<cxl-item icon="book" href="#forms">Forms</cxl-item>
</cxl-router-app>
			);
		}
	}
	
	const ui = cxl.ui;
	
	class HomeRoute extends React.Component
	{
		constructor()
		{
			super();
			this.state = {
				active: null,
				items: [
					{ value: 1, label: 'One' },
					{ value: 2, label: 'Two' },
					{ value: 3, label: 'Three' }
				]
			}
			this.onChange = this.onChange.bind(this);
		}
		
		onChange(change)
		{
			this.setState(Object.assign({}, this.state, change));
		}
		
		render()
		{
			const items = this.state.items.map(item => <ui.Option key={item.label} value={item.value}>{item.label}</ui.Option>);
			
			return <React.Fragment>
				<cxl-block inverse>
					<ui.Button onAction={ev => this.onChange({ active: this.state.active ? null : true })} secondary={this.state.active}>Toggle Button</ui.Button>
					<br /><br />
					<cxl-t>Active: {this.state.active ? 'Yes' : 'No' }</cxl-t>
				</cxl-block>
				<cxl-block>
					<cxl-form-group>
						<cxl-label>Input Label</cxl-label>
						<ui.Input onChange={ev => this.onChange({input:ev.target.value})} />
					</cxl-form-group>
					<cxl-t>Input Value: {this.state.input}</cxl-t>
				</cxl-block>
				<cxl-block>
					<cxl-form-group>
						<cxl-label>Select Label</cxl-label>
						<ui.Select onChange={ev => this.onChange({select:ev.target.value})}>
							<cxl-option value="1">One</cxl-option>
							<cxl-option value="2">Two</cxl-option>
							<cxl-option value="3">Three</cxl-option>
						</ui.Select>
					</cxl-form-group>
					<p>Select Value: {this.state.select}</p>
				</cxl-block>
				<cxl-block>
					<cxl-form-group>
						<cxl-label>Dynamic Options</cxl-label>
						<ui.Select onChange={ev => this.onChange({dynamicSelect: ev.target.value })}>
							{items}
						</ui.Select>
					</cxl-form-group>
					<p>Select Value: {this.state.dynamicSelect}</p>
				</cxl-block>
			</React.Fragment>;
		}
	}
	
	cxl.route({
		defaultRoute: true,
		title: 'React Demo',
		bindings: 'connect:#init'
	}, {
		init(val, el) { ReactDOM.render(<HomeRoute />, el); }
	});
	
	cxl.route({
		path: 'forms',
		title: 'Using Forms',
		bindings: 'connect:#init'
	},{
		init(val, el) { ReactDOM.render(<HomeRoute />, el); }
	});
	
	ReactDOM.render(<Main />, document.getElementById('root'));

    </script>
  </body>
</html>