define("@cxl/keyboard",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalize=t.parseKey=t.getDefaultLayout=t.handleKeyboard=t.TranslateKey=t.Pass=void 0,t.Pass={};const n="undefined"!=typeof window?window.navigator:{language:"en-US",platform:"nodejs"},o=/(shift|ctrl|control|alt|option|meta|command|cmd|mod|[^\s+]+)(\s*\+|\s)?/g,a={"/":"?",".":">",",":"<","'":'"',";":":","[":"{","]":"}","\\":"|","`":"~","=":"+","-":"_",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")"},r={"en-US":{shiftedKeys:Object.values(a),shiftMap:a,modKey:/Mac|iPod|iPhone|iPad/.test(n.platform)?"metaKey":"ctrlKey"}};function s(e,{shiftedKeys:n}){const o=e.key;if(!o||"Shift"===o||"Alt"===o||"Meta"===o||"Control"===o)return"";const a=t.TranslateKey[o]||o.toLowerCase();let r;return e.ctrlKey&&(r="ctrl"),e.altKey&&(r=r?r+"+alt":"alt"),e.shiftKey&&!n.includes(a)&&(r=r?r+"+shift":"shift"),e.metaKey&&(r=r?r+"+meta":"meta"),r?r+"+"+a:a}function i(){return r[null==n?void 0:n.language]||r["en-US"]}function l(e,{modKey:t,shiftedKeys:n,shiftMap:a}=i()){const r=[];let s,l={ctrlKey:!1,shiftKey:!1,metaKey:!1,altKey:!1,key:""};for(;s=o.exec(e.toLowerCase());){const e=s[1];if("shift"===e)l.shiftKey=!0;else if("ctrl"===e||"control"===e)l.ctrlKey=!0;else if("alt"===e||"option"===e)l.altKey=!0;else if("meta"===e||"cmd"===e||"command"===e)l.metaKey=!0;else if("mod"===e)l[t]=!0;else if(l.key=e,l.shiftKey)if(n.includes(e))l.shiftKey=!1;else{const t=a[e];t&&(l.key=t)}"+"!==s[2]&&(r.push(l),l={ctrlKey:!1,shiftKey:!1,metaKey:!1,altKey:!1,key:""})}return r}t.TranslateKey={Shift:"",Alt:"",Meta:"",Control:"",ArrowUp:"up",ArrowDown:"down",ArrowLeft:"left",ArrowRight:"right",Escape:"esc"},t.handleKeyboard=function({element:e,onKey:t,delay:o,layout:a,capture:i}){const l=void 0===o?250:o,f=n.language;let y=[],c=0;const d=a||r[f]||r["en-US"];function u(e){const n=s(e,d);let o=Date.now();if(!n)return;o-c<l?y.push(n):y=[n];const a=y.slice(0);do{if(!1!==t(a.join(" "),y)){e.stopPropagation(),e.preventDefault(),o=0;break}a.shift()}while(a.length);c=o}return e.addEventListener("keydown",u,{capture:i}),()=>e.removeEventListener("keydown",u,{capture:i})},t.getDefaultLayout=i,t.parseKey=l,t.normalize=function(e,t=i()){const n=l(e,t);let o=n.length;for(;o--;)n[o]=s(n[o],t);return n.join(" ")}}));
//# sourceMappingURL=index.min.js.map